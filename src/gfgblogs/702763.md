---
id: "702763"
title: "Pairs with Difference less than K"
slug: "pairs-with-difference-less-than-k1348"
difficulty: "Easy"
companyTags: []
tags: ["Arrays", "Data Structures"]
---

Pairs with Difference less than K
================================

## Summary
Given an array of integers, find all pairs that have a difference less than `K`. This problem is a variation of finding all pairs in an array. The key concept involved is arrays and data structures.

## Detailed Explanation
The given array can be sorted first to make it easier to find the pairs with differences less than `K`. Then, we iterate through the array from both ends (start and end). For each pair of elements at the start and end, check if their difference is less than `K`. If yes, add this pair to our result.

Here's a step-by-step breakdown:

* Sort the given array.
* Initialize two pointers, one at the start and another at the end.
* Calculate the difference between the elements at the start and end.
* If the difference is less than `K`, add this pair to our result.
* Move the pointer that points to the smaller element towards the other end.
* Repeat steps 2-5 until the two pointers meet.

Time complexity: O(n log n) due to sorting, where `n` is the size of the array. Space complexity: O(1), as we are not using any extra space apart from the result.

Here's a sample output for the input `[3, 1, 4, 1, 5, 9, 2, 6]` and `K = 3`:
```
[(1, 2), (1, 3), (1, 4), (2, 3), (4, 5)]
```

## Optimized Solutions
### Java
```java
import java.util.ArrayList;
import java.util.Arrays;

public class PairsWithDifferenceLessThanK {
    public static ArrayList<Integer[]> findPairs(int[] arr, int K) {
        Arrays.sort(arr);
        ArrayList<Integer[]> result = new ArrayList<>();
        int i = 0, j = arr.length - 1;
        while (i < j) {
            if (Math.abs(arr[i] - arr[j]) < K) {
                result.add(new Integer[] {arr[i], arr[j]});
                i++;
                j--;
            } else if (arr[i] < arr[j]) {
                i++;
            } else {
                j--;
            }
        }
        return result;
    }
}
```

### Python
```python
def find_pairs(arr, K):
    arr.sort()
    result = []
    i = 0; j = len(arr) - 1
    while i < j:
        if abs(arr[i] - arr[j]) < K:
            result.append((arr[i], arr[j]))
            i += 1; j -= 1
        elif arr[i] < arr[j]:
            i += 1
        else:
            j -= 1
    return result
```

### C++
```cpp
#include <iostream>
#include <vector>
#include <algorithm>

std::vector<std::pair<int, int>> findPairs(int* arr, int n, int K) {
    std::vector<std::pair<int, int>> result;
    std::sort(arr, arr + n);
    int i = 0, j = n - 1;
    while (i < j) {
        if (std::abs(arr[i] - arr[j]) < K) {
            result.push_back({arr[i], arr[j]});
            i++;
            j--;
        } else if (arr[i] < arr[j]) {
            i++;
        } else {
            j--;
        }
    }
    return result;
}

int main() {
    int arr[] = {3, 1, 4, 1, 5, 9, 2, 6};
    int n = sizeof(arr) / sizeof(arr[0]);
    int K = 3;
    std::vector<std::pair<int, int>> result = findPairs(arr, n, K);
    for (auto& pair : result) {
        std::cout << "(" << pair.first << ", " << pair.second << ")" << std::endl;
    }
    return 0;
}
```

### JavaScript
```javascript
function findPairs(arr, K) {
    arr.sort((a, b) => a - b);
    let result = [];
    let i = 0, j = arr.length - 1;
    while (i < j) {
        if (Math.abs(arr[i] - arr[j]) < K) {
            result.push([arr[i], arr[j]]);
            i++;
            j--;
        } else if (arr[i] < arr[j]) {
            i++;
        } else {
            j--;
        }
    }
    return result;
}
```