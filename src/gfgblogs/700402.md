---
id: "700402"
title: "Max distance between same elements"
slug: "max-distance-between-same-elements"
difficulty: "Easy"
companyTags: []
tags: ["Arrays", "Hash", "Data Structures"]
---

**Max distance between same elements**
==============================

**Slug:** max-distance-between-same-elements
**Difficulty:** Easy
**Id:** 700402
**Topic Tags:** Arrays, Hash, Data Structures
**Company Tags:** None

## Summary
Given an array of integers, find the maximum distance between two occurrences of the same element. The distance is calculated as the absolute difference between their indices.

For example, if the input array is `[1, 2, 3, 4, 5, 6, 7]`, the output should be `4` because the distance between the first occurrence of `1` at index `0` and the second occurrence at index `4` is `4`.

## Detailed Explanation
To solve this problem, we can use a hash map to store the indices of each element. Then, for each element, we calculate its distance from the previous occurrence.

Here's a step-by-step breakdown:

1. Initialize an empty hash map.
2. Iterate through the array and for each element:
   - Check if the element is already in the hash map.
   - If it's not, add it to the hash map with its current index as the value.
   - If it is, calculate the distance between the current index and the previous index stored in the hash map.
3. Keep track of the maximum distance found so far.

Time complexity: O(n), where n is the length of the array.
Space complexity: O(min(n, m)), where m is the number of unique elements in the array.

## Optimized Solutions
### Java
```java
import java.util.HashMap;
import java.util.Map;

public class MaxDistance {
    public static int maxDistance(int[] arr) {
        Map<Integer, Integer> indices = new HashMap<>();
        int maxDist = 0;

        for (int i = 0; i < arr.length; i++) {
            if (!indices.containsKey(arr[i])) {
                indices.put(arr[i], i);
            } else {
                int dist = i - indices.get(arr[i]);
                maxDist = Math.max(maxDist, dist);
                indices.put(arr[i], i);
            }
        }

        return maxDist;
    }
```

### Python
```python
def max_distance(arr):
    indices = {}
    max_dist = 0

    for i, x in enumerate(arr):
        if x not in indices:
            indices[x] = i
        else:
            dist = i - indices[x]
            max_dist = max(max_dist, dist)
            indices[x] = i

    return max_dist
```

### C++
```cpp
#include <unordered_map>
#include <vector>

int maxDistance(const std::vector<int>& arr) {
    std::unordered_map<int, int> indices;
    int maxDist = 0;

    for (int i = 0; i < arr.size(); i++) {
        if (!indices.count(arr[i])) {
            indices[arr[i]] = i;
        } else {
            int dist = i - indices[arr[i]];
            maxDist = std::max(maxDist, dist);
            indices[arr[i]] = i;
        }
    }

    return maxDist;
}
```

### JavaScript
```javascript
function maxDistance(arr) {
  const indices = {};
  let maxDist = 0;

  for (let i = 0; i < arr.length; i++) {
    if (!indices.hasOwnProperty(arr[i])) {
      indices[arr[i]] = i;
    } else {
      const dist = i - indices[arr[i]];
      maxDist = Math.max(maxDist, dist);
      indices[arr[i]] = i;
    }
  }

  return maxDist;
}
```

Note that the optimized solutions are provided in the respective programming languages.