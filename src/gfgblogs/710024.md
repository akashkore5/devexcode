---
id: "710024"
title: "Interleave the First Half of the Queue with Second Half"
slug: "interleave-the-first-half-of-the-queue-with-second-half"
difficulty: "Medium"
companyTags: []
tags: ["Stack", "Queue", "implementation", "Data Structures"]
---

**Interleave the First Half of the Queue with Second Half**
================================================================

## Summary
Given a queue, interleave the elements in the first half and second half. The problem can be solved by using a stack to store the elements from the first half and then pop them one by one and enqueue them along with the remaining elements from the second half.

## Detailed Explanation
The solution involves two main steps: (1) storing the elements from the first half of the queue in a stack, and (2) popping the elements from the stack and enqueueing them along with the remaining elements from the second half.

Here is the step-by-step breakdown:

1. Initialize an empty stack.
2. Iterate over the queue until you reach the middle element.
3. For each iteration, push the current element to the stack.
4. Once you have reached the middle element, iterate over the rest of the queue and enqueue each element.
5. Now, iterate over the stack and dequeue each element from the stack and enqueue them along with the remaining elements from the second half.

Time complexity: O(n), where n is the number of elements in the queue. This is because we are iterating over the queue twice.

Space complexity: O(n/2), as we are using a stack to store the elements from the first half of the queue.

## Optimized Solutions
### Java
```java
public static void interleaveQueue(Queue<Integer> queue) {
    int n = queue.size();
    Stack<Integer> stack = new Stack<>();
    
    for (int i = 0; i < n / 2; i++) {
        stack.push(queue.poll());
    }
    
    while (!stack.isEmpty()) {
        queue.add(stack.pop());
    }
    
    while (!queue.isEmpty()) {
        queue.add(queue.poll());
    }
}
```

### Python
```python
def interleave_queue(queue):
    n = len(queue)
    stack = []
    
    for i in range(n // 2):
        stack.append(queue.popleft())
    
    while stack:
        queue.append(stack.pop(0))
    
    while queue:
        queue.append(queue.popleft())
```

### C++
```cpp
void interleaveQueue(Queue<int> &queue) {
    int n = queue.size();
    stack<int> s;
    
    for (int i = 0; i < n / 2; i++) {
        s.push(queue.front());
        queue.pop();
    }
    
    while (!s.empty()) {
        queue.push(s.top());
        s.pop();
    }
    
    while (!queue.empty()) {
        queue.push(queue.front());
        queue.pop();
    }
}
```

### JavaScript
```javascript
function interleaveQueue(queue) {
  let n = queue.length;
  let stack = [];
  
  for (let i = 0; i < Math.floor(n / 2); i++) {
    stack.push(queue.shift());
  }
  
  while (stack.length) {
    queue.push(stack.pop());
  }
  
  while (queue.length) {
    queue.push(queue.shift());
  }
}
```