---
id: "709993"
title: "Max Equal sum of 3 Stacks"
slug: "find-maximum-equal-sum-of-three-stacks"
difficulty: "Medium"
companyTags: []
tags: ["Greedy", "Stack", "Data Structures", "Algorithms"]
---

# Max Equal sum of 3 Stacks
## Slug: find-maximum-equal-sum-of-three-stacks
## Difficulty: Medium
## Id: 709993
## Topic Tags: Greedy, Stack, Data Structures, Algorithms
## Company Tags: None

### Summary
Given three stacks A, B, and C with their respective sizes `n1`, `n2`, and `n3`. We need to find the maximum equal sum of the three stacks. If it's not possible to have an equal sum for all three stacks, return -1.

### Detailed Explanation

To solve this problem, we will iterate through each stack and add elements until one of the stacks has a sum that is less than or equal to the others. We then calculate the maximum possible sum by subtracting the smallest element from the other two stacks. The maximum equal sum will be the minimum of these sums.

Here's a step-by-step breakdown:

1. Initialize variables `max_sum` and `min_sum` to 0.
2. Iterate through each stack:
   - For each stack, add elements until one of the stacks has a sum that is less than or equal to the others.
   - Calculate the maximum possible sum by subtracting the smallest element from the other two stacks.
3. Update `max_sum` and `min_sum` with the calculated values.
4. Return the minimum of `max_sum` and `min_sum`.

### Optimized Solutions

#### Java
```java
public class Main {
    public static int maxEqualSum(int[] a, int[] b, int[] c) {
        int sumA = 0, sumB = 0, sumC = 0;
        
        for (int i : a) {
            sumA += i;
        }
        for (int i : b) {
            sumB += i;
        }
        for (int i : c) {
            sumC += i;
        }
        
        int maxSum = Math.max(sumA, Math.max(sumB, sumC));
        int minSum = Integer.MAX_VALUE;
        
        if (sumA > 0 && sumB > 0 && sumC > 0) {
            for (int i : a) {
                int temp = sumA - i;
                if (temp <= Math.min(sumB, sumC)) {
                    maxSum = temp;
                    break;
                }
            }
        }
        
        return (maxSum == minSum) ? maxSum : -1;
    }

    public static void main(String[] args) {
        int[] a = {5, 4, 6};
        int[] b = {7, 8, 9};
        int[] c = {10, 11, 12};

        System.out.println(maxEqualSum(a, b, c));
    }
}
```

#### Python
```python
def max_equal_sum(stack1, stack2, stack3):
    sum1, sum2, sum3 = sum(stack1), sum(stack2), sum(stack3)
    
    max_sum = max(sum1, sum2, sum3)
    min_sum = float('inf')
    
    if all([sum > 0 for sum in (sum1, sum2, sum3)]):
        for i in stack1:
            temp = sum1 - i
            if temp <= min(sum2, sum3):
                max_sum = temp
                break
    
    return max_sum if max_sum == min_sum else -1

stack1 = [5, 4, 6]
stack2 = [7, 8, 9]
stack3 = [10, 11, 12]

print(max_equal_sum(stack1, stack2, stack3))
```

#### C++
```cpp
#include <iostream>
#include <vector>

int maxEqualSum(const std::vector<int>& a, const std::vector<int>& b, const std::vector<int>& c) {
    int sumA = 0, sumB = 0, sumC = 0;
    
    for (int i : a) {
        sumA += i;
    }
    for (int i : b) {
        sumB += i;
    }
    for (int i : c) {
        sumC += i;
    }
    
    int maxSum = std::max(sumA, std::max(sumB, sumC));
    int minSum = INT_MAX;
    
    if (sumA > 0 && sumB > 0 && sumC > 0) {
        for (int i : a) {
            int temp = sumA - i;
            if (temp <= std::min(sumB, sumC)) {
                maxSum = temp;
                break;
            }
        }
    }
    
    return (maxSum == minSum) ? maxSum : -1;
}

int main() {
    std::vector<int> a = {5, 4, 6};
    std::vector<int> b = {7, 8, 9};
    std::vector<int> c = {10, 11, 12};

    std::cout << maxEqualSum(a, b, c) << std::endl;
    return 0;
}
```

#### JavaScript
```javascript
function maxEqualSum(stack1, stack2, stack3) {
    let sum1 = 0, sum2 = 0, sum3 = 0;
    
    for (let i of stack1) {
        sum1 += i;
    }
    for (let i of stack2) {
        sum2 += i;
    }
    for (let i of stack3) {
        sum3 += i;
    }
    
    let maxSum = Math.max(sum1, Math.max(sum2, sum3));
    let minSum = Infinity;
    
    if (sum1 > 0 && sum2 > 0 && sum3 > 0) {
        for (let i of stack1) {
            let temp = sum1 - i;
            if (temp <= Math.min(sum2, sum3)) {
                maxSum = temp;
                break;
            }
        }
    }
    
    return maxSum === minSum ? maxSum : -1;
}

let stack1 = [5, 4, 6];
let stack2 = [7, 8, 9];
let stack3 = [10, 11, 12];

console.log(maxEqualSum(stack1, stack2, stack3));
```