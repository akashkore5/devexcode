---
id: "703149"
title: "Sid and his prime money"
slug: "sid-and-his-prime-money5736"
difficulty: "Hard"
companyTags: []
tags: ["Arrays", "Mathematical", "Data Structures", "Algorithms"]
---

**Sid and his Prime Money**
================================

## Summary
Sid has a stash of money, and he wants to allocate it wisely. He knows that prime numbers are special, so he decides to invest in them. The goal is to maximize the sum of the prime numbers Sid can buy with his available money. Given an array of coin denominations and the total amount of money Sid has, find out how many prime numbers he can buy and what their sum will be.

## Detailed Explanation
To solve this problem, we'll use a combination of mathematical and algorithmic techniques. First, let's create a function to check if a given number is prime or not. Then, we'll sort the coin denominations in descending order and iterate through them to find the maximum number of prime numbers that can be bought.

Here's a step-by-step breakdown:

1.  Initialize an empty array `primes` to store the prime numbers.
2.  Iterate over the range from 2 to the total amount of money (inclusive).
3.  For each number, check if it's prime using the function created in step 1.
4.  If the number is prime, add it to the `primes` array.
5.  Sort the `primes` array in descending order.
6.  Initialize a variable `sum` to store the sum of the prime numbers bought.
7.  Iterate through the sorted `primes` array and for each prime number:
    *   Check if the total amount of money is sufficient to buy the prime number (i.e., the prime number is less than or equal to the remaining amount).
    *   If it's sufficient, subtract the prime number from the total amount and add it to the `sum`.
8.  Return the maximum sum of prime numbers that can be bought.

Time complexity: O(n log n) due to sorting the `primes` array.
Space complexity: O(n) for storing the prime numbers in the `primes` array.

## Optimized Solutions
### Java
```java
public class SidAndPrimeMoney {
    public static int maxPrimeSum(int[] coins, int totalAmount) {
        List<Integer> primes = new ArrayList<>();
        for (int i = 2; i <= totalAmount; i++) {
            if (isPrime(i)) {
                primes.add(i);
            }
        }
        Collections.sort(primes, Comparator.reverseOrder());
        int sum = 0;
        for (int prime : primes) {
            while (totalAmount >= prime && totalAmount - prime >= 0) {
                totalAmount -= prime;
                sum += prime;
            }
        }
        return sum;
    }

    private static boolean isPrime(int num) {
        if (num <= 1) {
            return false;
        }
        for (int i = 2; i * i <= num; i++) {
            if (num % i == 0) {
                return false;
            }
        }
        return true;
    }
}
```

### Python
```python
def max_prime_sum(coins, total_amount):
    primes = []
    for i in range(2, total_amount + 1):
        if is_prime(i):
            primes.append(i)
    primes.sort(reverse=True)
    sum_of_primes = 0
    for prime in primes:
        while total_amount >= prime and total_amount - prime >= 0:
            total_amount -= prime
            sum_of_primes += prime
    return sum_of_primes

def is_prime(num):
    if num <= 1:
        return False
    for i in range(2, int(num ** 0.5) + 1):
        if num % i == 0:
            return False
    return True
```

### C++
```cpp
#include <vector>
#include <algorithm>

class SidAndPrimeMoney {
public:
    static int maxPrimeSum(int* coins, int totalAmount, int n) {
        std::vector<int> primes;
        for (int i = 2; i <= totalAmount; i++) {
            if (isPrime(i)) {
                primes.push_back(i);
            }
        }
        std::sort(primes.begin(), primes.end(), std::greater<int>());
        int sum = 0;
        for (int prime : primes) {
            while (totalAmount >= prime && totalAmount - prime >= 0) {
                totalAmount -= prime;
                sum += prime;
            }
        }
        return sum;
    }

private:
    static bool isPrime(int num) {
        if (num <= 1) {
            return false;
        }
        for (int i = 2; i * i <= num; i++) {
            if (num % i == 0) {
                return false;
            }
        }
        return true;
    }
};
```

### JavaScript
```javascript
function maxPrimeSum(coins, totalAmount) {
    let primes = [];
    for (let i = 2; i <= totalAmount; i++) {
        if (isPrime(i)) {
            primes.push(i);
        }
    }
    primes.sort((a, b) => b - a);
    let sumOfPrimes = 0;
    for (let prime of primes) {
        while (totalAmount >= prime && totalAmount - prime >= 0) {
            totalAmount -= prime;
            sumOfPrimes += prime;
        }
    }
    return sumOfPrimes;

function isPrime(num) {
    if (num <= 1) {
        return false;
    }
    for (let i = 2; i * i <= num; i++) {
        if (num % i == 0) {
            return false;
        }
    }
    return true;
}
```

Note that the optimized solutions provided are just examples and may not be the most efficient. The goal is to demonstrate how to approach the problem using various programming languages.