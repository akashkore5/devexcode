---
id: "878150"
title: "Split array in three equal sum subarrays"
slug: "split-array-in-three-equal-sum-subarrays"
difficulty: "Medium"
companyTags: []
tags: ["prefix-sum", "Arrays"]
---

# Split Array in Three Equal Sum Subarrays

## Summary

The problem is to split an array into three contiguous subarrays such that each subarray has the same sum. This requires finding a way to divide the array into three parts, ensuring that each part's sum is equal. The key concept involved is prefix sums, which are used to efficiently calculate the total sum of each possible subarray.

## Detailed Explanation

To solve this problem, we can start by calculating the total sum of the array and then iterating through the array with a sliding window approach. For each window, we calculate the sum of the elements within it using prefix sums. This allows us to quickly determine if the current window's sum is equal to one-third of the total sum.

Here's a step-by-step breakdown of the solution:

1. Calculate the total sum of the array.
2. Initialize three variables: `left`, `mid`, and `right` to represent the sums of the left, middle, and right subarrays, respectively.
3. Iterate through the array with a sliding window approach:
	* For each window, calculate the prefix sum using the current element and the previous prefix sum.
	* Check if the current window's sum is equal to one-third of the total sum.
	* If it is, update `left`, `mid`, and `right` accordingly based on which part of the array the current window falls into (left, middle, or right).
4. Once the iteration is complete, return the three subarrays corresponding to `left`, `mid`, and `right`.

Time complexity: O(n), where n is the length of the array.
Space complexity: O(1), as we only use a constant amount of space to store the prefix sum and the three subarray sums.

## Optimized Solutions

### Java
```java
public static int[][] splitArray(int[] arr) {
    int totalSum = 0;
    for (int num : arr) {
        totalSum += num;
    }
    
    int leftSum = 0, midSum = 0, rightSum = totalSum;
    for (int i = 0; i < arr.length; i++) {
        if (leftSum == rightSum / 3) return new int[][]{Arrays.copyOfRange(arr, 0, i + 1), Arrays.copyOfRange(arr, i + 1, midIndex), Arrays.copyOfRange(arr, midIndex, arr.length)};
        if (leftSum < rightSum / 3) leftSum += arr[i];
        else rightSum -= arr[i];
    }
    
    return new int[][]{Arrays.copyOfRange(arr, 0, midIndex), Arrays.copyOfRange(arr, midIndex, midIndex + 1), Arrays.copyOfRange(arr, midIndex + 1, arr.length)};
}
```

### Python
```python
def split_array(arr):
    total_sum = sum(arr)
    
    left_sum = right_sum = total_sum // 3
    mid_index = 0
    
    for i in range(len(arr)):
        if left_sum == right_sum:
            return [arr[:i+1], arr[i:i+mid_index], arr[mid_index:]]
        
        if left_sum < right_sum:
            left_sum += arr[i]
        else:
            right_sum -= arr[i]
    
    return [arr[:mid_index], arr[mid_index:mid_index+1], arr[mid_index+1:]]
```

### C++
```cpp
vector<vector<int>> splitArray(vector<int>& arr) {
    int totalSum = 0;
    for (int num : arr) {
        totalSum += num;
    }
    
    int leftSum = rightSum = totalSum / 3, midIndex = 0;
    for (int i = 0; i < arr.size(); i++) {
        if (leftSum == rightSum)
            return {{arr.begin(), arr.begin() + i + 1}, {arr.begin() + i + 1, arr.begin() + midIndex}, {arr.begin() + midIndex, arr.end()}};
        if (leftSum < rightSum) leftSum += arr[i];
        else rightSum -= arr[i];
    }
    
    return {{arr.begin(), arr.begin() + midIndex}, {arr.begin() + midIndex, arr.begin() + midIndex + 1}, {arr.begin() + midIndex + 1, arr.end()}};
}
```

### JavaScript
```javascript
function splitArray(arr) {
    let totalSum = 0;
    for (let num of arr) {
        totalSum += num;
    }
    
    let leftSum = rightSum = Math.floor(totalSum / 3), midIndex = 0;
    for (let i = 0; i < arr.length; i++) {
        if (leftSum === rightSum)
            return [arr.slice(0, i+1), arr.slice(i+1, midIndex+1), arr.slice(midIndex+1)];
        
        if (leftSum < rightSum) leftSum += arr[i];
        else rightSum -= arr[i];
    }
    
    return [arr.slice(0, midIndex), arr.slice(midIndex, midIndex+1), arr.slice(midIndex+1)];
}
```