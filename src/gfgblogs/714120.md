---
id: "714120"
title: "Max min Height"
slug: "max-min-height--170647"
difficulty: "Hard"
companyTags: []
tags: ["Arrays", "Dynamic Programming", "Binary Search", "Data Structures", "Algorithms"]
---

**Max Min Height**
=====================



### Summary

Given an array of integers, find the maximum and minimum height that can be achieved by placing a fence at each position in the array. The height at a particular position is defined as the difference between the maximum element to its left and the minimum element to its right.

This problem involves dynamic programming and binary search, with key concepts including arrays, data structures, and algorithms.



### Detailed Explanation

The approach to this problem is to use dynamic programming to calculate the maximum and minimum height for each position in the array. The idea is to maintain two arrays: `max_height` and `min_height`. For each position `i`, we calculate the maximum and minimum height by considering the elements on both sides of the fence at that position.

The step-by-step breakdown of the solution is as follows:

1. Initialize `max_height` and `min_height` arrays with all elements set to 0.
2. Iterate through the array from left to right:
   - For each position `i`, calculate the maximum height by considering the elements on the left side of the fence at that position: `max_height[i] = max(0, max(arr[:i]) - arr[i])`.
   - Similarly, calculate the minimum height by considering the elements on the right side of the fence at that position: `min_height[i] = min(0, min(arr[i+1:]) - arr[i])`.
3. The maximum and minimum heights for the entire array are then calculated as follows:
   - Maximum height: `max_max_height = max(max_height)`.
   - Minimum height: `min_min_height = min(min_height)`.

The time complexity of this solution is O(n), where n is the length of the array, since we only need to iterate through the array once. The space complexity is also O(n) due to the dynamic programming arrays.



### Optimized Solutions

#### Java
```java
public class MaxMinHeight {
    public static int[] maxMinHeight(int[] arr) {
        int n = arr.length;
        int[] max_height = new int[n];
        int[] min_height = new int[n];

        for (int i = 0; i < n; i++) {
            if (i == 0) {
                max_height[i] = arr[0];
                min_height[i] = -arr[0];
            } else if (i == n - 1) {
                max_height[i] = -arr[n - 1];
                min_height[i] = arr[n - 1];
            } else {
                max_height[i] = Math.max(0, max(arr[:i]) - arr[i]);
                min_height[i] = Math.min(0, min(arr[i+1:]) - arr[i]);
            }
        }

        int max_max_height = Arrays.stream(max_height).max().getAsInt();
        int min_min_height = Arrays.stream(min_height).min().getAsInt();

        return new int[] {max_max_height, min_min_height};
    }
}
```

#### Python
```python
def max_min_height(arr):
    n = len(arr)
    max_height = [0] * n
    min_height = [0] * n

    for i in range(n):
        if i == 0:
            max_height[i] = arr[0]
            min_height[i] = -arr[0]
        elif i == n - 1:
            max_height[i] = -arr[n - 1]
            min_height[i] = arr[n - 1]
        else:
            max_height[i] = max(0, max(arr[:i]) - arr[i])
            min_height[i] = min(0, min(arr[i+1:]) - arr[i])

    max_max_height = max(max_height)
    min_min_height = min(min_height)

    return [max_max_height, min_min_height]
```

#### C++
```cpp
#include <algorithm>
#include <vector>

std::pair<int, int> maxMinHeight(std::vector<int>& arr) {
    int n = arr.size();
    std::vector<int> max_height(n);
    std::vector<int> min_height(n);

    for (int i = 0; i < n; i++) {
        if (i == 0) {
            max_height[i] = arr[0];
            min_height[i] = -arr[0];
        } else if (i == n - 1) {
            max_height[i] = -arr[n - 1];
            min_height[i] = arr[n - 1];
        } else {
            max_height[i] = std::max(0, std::accumulate(arr.begin(), i, 0) - arr[i]);
            min_height[i] = std::min(0, std::accumulate(i + 1, arr.end(), 0) - arr[i]);
        }
    }

    int max_max_height = *std::max_element(max_height.begin(), max_height.end());
    int min_min_height = *std::min_element(min_height.begin(), min_height.end());

    return {max_max_height, min_min_height};
}
```

#### JavaScript
```javascript
function maxMinHeight(arr) {
    let n = arr.length;
    let max_height = new Array(n);
    let min_height = new Array(n);

    for (let i = 0; i < n; i++) {
        if (i === 0) {
            max_height[i] = arr[0];
            min_height[i] = -arr[0];
        } else if (i === n - 1) {
            max_height[i] = -arr[n - 1];
            min_height[i] = arr[n - 1];
        } else {
            max_height[i] = Math.max(0, Math.max(...arr.slice(0, i)) - arr[i]);
            min_height[i] = Math.min(0, Math.min(...arr.slice(i + 1)) - arr[i]);
        }
    }

    let max_max_height = Math.max(...max_height);
    let min_min_height = Math.min(...min_height);

    return [max_max_height, min_min_height];
}
```