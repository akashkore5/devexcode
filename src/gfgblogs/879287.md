---
id: "879287"
title: "Generate a matrix with each row and column of given sum"
slug: "generate-a-matrix-with-each-row-and-column-of-given-sum"
difficulty: "Easy"
companyTags: []
tags: ["Greedy", "Arrays", "Matrix"]
---

**Generate a matrix with each row and column of given sum**
======================================

## Summary
Given a positive integer `n` and two integers `row_sum` and `col_sum`, generate an `n x n` matrix such that each row's sum is equal to `row_sum` and each column's sum is equal to `col_sum`. This problem involves arrays, matrices, and greedy algorithms.

## Detailed Explanation
The given problem can be solved by using a greedy approach. We start by initializing the first row of the matrix with values from 1 to `row_sum`, in such a way that it covers all possible sums up to `row_sum`.

Then for each subsequent row, we calculate the remaining sum required to reach `row_sum` and fill the cells accordingly.

For columns, we use a similar approach. We start by initializing the first column with values from 1 to `col_sum`, in such a way that it covers all possible sums up to `col_sum`.

Then for each subsequent column, we calculate the remaining sum required to reach `col_sum` and fill the cells accordingly.

Here is a step-by-step breakdown of the solution:

1. Initialize an `n x n` matrix with zeros.
2. For the first row, generate numbers from 1 to `row_sum`.
3. For each subsequent row, calculate the remaining sum required to reach `row_sum`. Fill the cells accordingly.
4. Repeat steps 2-3 for columns instead of rows.
5. Return the generated matrix.

Time complexity: O(n^2)
Space complexity: O(n^2)

## Optimized Solutions

### Java
```java
public class Main {
    public static void main(String[] args) {
        int n = 4;
        int rowSum = 10;
        int colSum = 5;

        int[][] matrix = new int[n][n];

        // Initialize first row and column
        for (int i = 0; i < n; i++) {
            matrix[0][i] = i + 1;
            matrix[i][0] = i + 1;
        }

        // Calculate remaining sums for rows
        int remainingRowSum = rowSum - (n * (n + 1) / 2);
        for (int i = 1; i < n; i++) {
            for (int j = 1; j < n; j++) {
                if (remainingRowSum > colSum) {
                    matrix[i][j] = remainingRowSum - (i + j - 1);
                    remainingRowSum -= matrix[i][j];
                } else {
                    matrix[i][j] = colSum;
                    remainingRowSum = 0;
                }
            }
        }

        // Calculate remaining sums for columns
        int remainingColSum = colSum - (n * (n + 1) / 2);
        for (int i = 1; i < n; i++) {
            for (int j = 1; j < n; j++) {
                if (remainingColSum > rowSum) {
                    matrix[i][j] = remainingColSum - (i + j - 1);
                    remainingColSum -= matrix[i][j];
                } else {
                    matrix[i][j] = rowSum;
                    remainingColSum = 0;
                }
            }
        }

        // Print the generated matrix
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < n; j++) {
                System.out.print(matrix[i][j] + " ");
            }
            System.out.println();
        }
    }
}
```

### Python
```python
def generate_matrix(n, row_sum, col_sum):
    matrix = [[0]*n for _ in range(n)]

    # Initialize first row and column
    for i in range(n):
        matrix[0][i] = i + 1
        matrix[i][0] = i + 1

    remaining_row_sum = row_sum - (n * (n + 1) // 2)
    for i in range(1, n):
        for j in range(1, n):
            if remaining_row_sum > col_sum:
                matrix[i][j] = remaining_row_sum - (i + j - 1)
                remaining_row_sum -= matrix[i][j]
            else:
                matrix[i][j] = col_sum
                remaining_row_sum = 0

    remaining_col_sum = col_sum - (n * (n + 1) // 2)
    for i in range(1, n):
        for j in range(1, n):
            if remaining_col_sum > row_sum:
                matrix[i][j] = remaining_col_sum - (i + j - 1)
                remaining_col_sum -= matrix[i][j]
            else:
                matrix[i][j] = row_sum
                remaining_col_sum = 0

    return matrix

n = 4
row_sum = 10
col_sum = 5

matrix = generate_matrix(n, row_sum, col_sum)

for row in matrix:
    print(' '.join(map(str, row)))
```

### C++
```cpp
#include <iostream>
using namespace std;

int main() {
    int n = 4;
    int rowSum = 10;
    int colSum = 5;

    int** matrix = new int*[n];
    for (int i = 0; i < n; i++) {
        matrix[i] = new int[n];
    }

    // Initialize first row and column
    for (int i = 0; i < n; i++) {
        matrix[0][i] = i + 1;
        matrix[i][0] = i + 1;
    }

    int remainingRowSum = rowSum - (n * (n + 1) / 2);
    for (int i = 1; i < n; i++) {
        for (int j = 1; j < n; j++) {
            if (remainingRowSum > colSum) {
                matrix[i][j] = remainingRowSum - (i + j - 1);
                remainingRowSum -= matrix[i][j];
            } else {
                matrix[i][j] = colSum;
                remainingRowSum = 0;
            }
        }
    }

    int remainingColSum = colSum - (n * (n + 1) / 2);
    for (int i = 1; i < n; i++) {
        for (int j = 1; j < n; j++) {
            if (remainingColSum > rowSum) {
                matrix[i][j] = remainingColSum - (i + j - 1);
                remainingColSum -= matrix[i][j];
            } else {
                matrix[i][j] = rowSum;
                remainingColSum = 0;
            }
        }
    }

    // Print the generated matrix
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < n; j++) {
            cout << matrix[i][j] << " ";
        }
        cout << endl;
    }

    return 0;
}
```

### JavaScript
```javascript
function generateMatrix(n, rowSum, colSum) {
    let matrix = new Array(n).fill(0).map(() => new Array(n).fill(0));

    // Initialize first row and column
    for (let i = 0; i < n; i++) {
        matrix[0][i] = i + 1;
        matrix[i][0] = i + 1;
    }

    let remainingRowSum = rowSum - (n * (n + 1) / 2);
    for (let i = 1; i < n; i++) {
        for (let j = 1; j < n; j++) {
            if (remainingRowSum > colSum) {
                matrix[i][j] = remainingRowSum - (i + j - 1);
                remainingRowSum -= matrix[i][j];
            } else {
                matrix[i][j] = colSum;
                remainingRowSum = 0;
            }
        }
    }

    let remainingColSum = colSum - (n * (n + 1) / 2);
    for (let i = 1; i < n; i++) {
        for (let j = 1; j < n; j++) {
            if (remainingColSum > rowSum) {
                matrix[i][j] = remainingColSum - (i + j - 1);
                remainingColSum -= matrix[i][j];
            } else {
                matrix[i][j] = rowSum;
                remainingColSum = 0;
            }
        }
    }

    // Print the generated matrix
    for (let i = 0; i < n; i++) {
        console.log(matrix[i].map(x => x + ' ').join(''));
    }
}

n = 4;
rowSum = 10;
colSum = 5;

generateMatrix(n, rowSum, colSum);
```

This algorithm generates a matrix with the specified number of rows and columns. The first row and column are initialized to values from 1 to n. Then, the remaining cells in the matrix are filled based on the sum constraints.