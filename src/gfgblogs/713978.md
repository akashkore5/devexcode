---
id: "713978"
title: "Update Queries"
slug: "update-queries--170647"
difficulty: "Medium"
companyTags: []
tags: ["Arrays", "Data Structures"]
---

**Update Queries**
==================

## Summary
The Update Queries problem involves updating an array based on a series of queries. Each query consists of an index and a value, where the goal is to update the value at that index in the array. The problem requires efficient algorithms for both querying and updating the array.

## Detailed Explanation
The given array can be viewed as a simple dynamic array, where we need to perform various operations like insertion, deletion, and modification of elements. We will use an array-based approach to solve this problem efficiently.

To implement this problem, you can use a data structure called a "Bit Vector" or a "Binary Indexed Tree (BIT)". This is particularly useful when the number of queries is large in comparison with the size of the array. Here's how it works:

1.  Initialize an empty BIT.
2.  Iterate over each query and update the BIT accordingly:
    *   If the query is to increment a value at index i, you can do this by adding `val` to the BIT at position `i`. This can be done in O(log n) time complexity where n is the size of the array.
3.  To find the sum of all values up to an index i, you can query the BIT at position `i`. This also takes O(log n) time complexity.

This approach provides a more efficient solution compared to using arrays and nested loops for each query.

Time Complexity: The time complexity is O(q log n), where q is the number of queries and n is the size of the array. Space Complexity: The space complexity is O(n).

## Optimized Solutions

### Java
```java
class UpdateQueries {
    int[] BIT;

    public void update(int index, int val) {
        while (index < BIT.length) {
            BIT[index] += val;
            index |= index + 1;
        }
    }

    public int query(int index) {
        int sum = 0;
        while (index >= 0) {
            sum += BIT[index];
            index &= index - 1;
        }
        return sum;
    }
}
```

### Python
```python
class UpdateQueries:
    def __init__(self):
        self.BIT = [0] * (len(nums) + 1)

    def update(self, index: int, val: int) -> None:
        while index < len(self.BIT):
            self.BIT[index] += val
            index |= index + 1

    def query(self, index: int) -> int:
        sum = 0
        while index >= 0:
            sum += self.BIT[index]
            index &= index - 1
        return sum
```

### C++
```cpp
class UpdateQueries {
public:
    vector<int> BIT;

    void update(int index, int val) {
        while (index < BIT.size()) {
            BIT[index] += val;
            index |= index + 1;
        }
    }

    int query(int index) {
        int sum = 0;
        while (index >= 0) {
            sum += BIT[index];
            index &= index - 1;
        }
        return sum;
    }
};
```

### JavaScript
```javascript
class UpdateQueries {
    constructor() {
        this.BIT = new Array(1000005).fill(0);
    }

    update(index, val) {
        while (index < this.BIT.length) {
            this.BIT[index] += val;
            index |= index + 1;
        }
    }

    query(index) {
        let sum = 0;
        while (index >= 0) {
            sum += this.BIT[index];
            index &= index - 1;
        }
        return sum;
    }
}
```