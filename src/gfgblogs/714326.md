---
id: "714326"
title: "Bit Magic"
slug: "bit-magic--170648"
difficulty: "Easy"
companyTags: []
tags: ["Greedy", "Bit Magic", "Data Structures", "Algorithms"]
---

**Bit Magic**
================

## Summary
The Bit Magic problem is a classic example of a greedy algorithm, where we aim to maximize a certain property by making optimal choices at each step. Given an array of integers, our goal is to flip the least significant bit (LSB) in each number as few times as possible while ensuring that all elements in the array have their LSB set.

## Detailed Explanation
To solve this problem, we can start by understanding the key concept involved - bit manipulation. We need to find a way to flip the LSB of each element in the array such that it is set for all numbers. A simple approach would be to iterate over the array and flip the LSB of each number if it's not already set.

Here's a step-by-step breakdown of the solution:

1. Initialize a variable `result` to store the final result.
2. Iterate over the array from left to right (i.e., from least significant bit to most significant bit).
3. For each element in the array, check if its LSB is not set (i.e., 0). If it's not set, flip the LSB by performing a bitwise XOR operation with `1`.
4. Once you've iterated over the entire array, the resulting array will have all elements' LSBs set.

Time complexity: O(n), where n is the length of the input array.
Space complexity: O(1), as we only use a constant amount of space to store the result.

Here's an ASCII art diagram illustrating the process:
```
  Before:
  [0, 1, 2, 3]
  
  After flipping LSBs:
  [0, 1, 2, 3] -> [0, 1, 3, 3]
```

## Optimized Solutions
### Java
```java
public class BitMagic {
    public static void main(String[] args) {
        int[] arr = {0, 1, 2, 3};
        for (int i : arr) {
            i ^= 1; // flip LSB if it's not already set
        }
        System.out.println(Arrays.toString(arr));
    }
}
```

### Python
```python
def bit_magic(arr):
    for num in arr:
        num ^= 1  # flip LSB if it's not already set
    return arr

arr = [0, 1, 2, 3]
print(bit_magic(arr))
```

### C++
```cpp
#include <iostream>
#include <vector>

std::vector<int> bitMagic(std::vector<int> arr) {
    for (int& num : arr) {
        num ^= 1; // flip LSB if it's not already set
    }
    return arr;
}

int main() {
    std::vector<int> arr = {0, 1, 2, 3};
    arr = bitMagic(arr);
    for (int num : arr) {
        std::cout << num << " ";
    }
    std::cout << std::endl;
    return 0;
}
```

### JavaScript
```javascript
function bitMagic(arr) {
    for (let i = 0; i < arr.length; i++) {
        arr[i] ^= 1; // flip LSB if it's not already set
    }
    return arr;
}

let arr = [0, 1, 2, 3];
console.log(bitMagic(arr));
```