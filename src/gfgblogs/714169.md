---
id: "714169"
title: "Remove the balls"
slug: "remove-the-balls--170647"
difficulty: "Medium"
companyTags: []
tags: ["Stack", "Data Structures"]
---

**Remove the Balls**
==================

## Summary
The problem is about removing balls from a stack based on certain conditions. The key concepts involved are stacks, data structures, and algorithmic approaches.

## Detailed Explanation
The given stack contains balls which need to be removed based on their colors. The colors of the balls can be either red or blue. The problem statement does not specify any specific condition for removing the balls except that it needs to be done in such a way that no two blue balls are together in the final sequence.

To solve this problem, we will use a stack-based approach. We will iterate through all the balls and keep pushing them onto the stack. If we encounter a red ball, we simply push it onto the stack. If we encounter a blue ball, we check if the top of the stack is empty or not. If the stack is empty, we push the blue ball onto the stack. If the stack is not empty and the top element of the stack is blue, we pop all the blue balls from the stack until we find a red ball or the stack becomes empty. Then we push the current blue ball onto the stack.

Here's the step-by-step breakdown of the solution:

1.  Initialize an empty stack.
2.  Iterate through all the balls and for each ball:
    *   If the ball is red, push it onto the stack.
    *   If the ball is blue, check if the stack is empty or not.
        +   If the stack is empty, push the blue ball onto the stack.
        +   If the stack is not empty and the top element of the stack is blue, pop all the blue balls from the stack until we find a red ball or the stack becomes empty. Then push the current blue ball onto the stack.

The time complexity for this solution is O(n), where n is the number of balls in the stack. The space complexity is also O(n) as in the worst-case scenario, we might end up pushing all the balls onto the stack.

## Optimized Solutions
### Java
```java
import java.util.Stack;

public class RemoveBalls {
    public static void removeBalls(Stack<Integer> stack) {
        while (!stack.isEmpty()) {
            int ball = stack.pop();
            if (ball == 1) { // red ball
                continue;
            }
            while (!stack.isEmpty() && stack.peek() == ball) {
                stack.pop();
            }
            stack.push(ball); // push the blue ball onto the stack
        }
    }

    public static void main(String[] args) {
        Stack<Integer> stack = new Stack<>();
        // add balls to the stack
        removeBalls(stack);
    }
}
```

### Python
```python
from collections import deque

def remove_balls(balls):
    stack = deque()
    for ball in balls:
        if ball == 1:  # red ball
            continue
        while stack and stack[-1] == ball:  
            stack.pop()
        stack.append(ball)  # push the blue ball onto the stack

# test case
balls = [2, 1, 2, 1, 2, 1]
remove_balls(balls)
```

### C++
```cpp
#include <stack>
#include <vector>

void removeBalls(std::stack<int>& stack) {
    while (!stack.empty()) {
        int ball = stack.top();
        stack.pop();
        if (ball == 1) { // red ball
            continue;
        }
        while (!stack.empty() && stack.top() == ball) {
            stack.pop();
        }
        stack.push(ball); // push the blue ball onto the stack
    }
}

int main() {
    std::stack<int> stack;
    // add balls to the stack
    removeBalls(stack);
}
```

### JavaScript
```javascript
function removeBalls(balls) {
    let stack = [];
    for (let i = 0; i < balls.length; i++) {
        if (balls[i] === 1) { // red ball
            continue;
        }
        while (stack.length && stack[stack.length - 1] === balls[i]) {
            stack.pop();
        }
        stack.push(balls[i]); // push the blue ball onto the stack
    }
}

// test case
let balls = [2, 1, 2, 1, 2, 1];
removeBalls(balls);
```