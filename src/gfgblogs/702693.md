---
id: "702693"
title: "Perfect Array"
slug: "perfect-array2344"
difficulty: "Basic"
companyTags: []
tags: ["Arrays", "Data Structures"]
---

**Perfect Array**
===============

**Slug:** perfect-array2344
**Difficulty:** Basic
**Id:** 702693
**Topic Tags:** Arrays, Data Structures
**Company Tags:** None


## Summary
The Perfect Array problem involves given an array and a target sum. The task is to find the number of pairs in the array that add up to the target sum.

## Detailed Explanation

One approach to solve this problem is by using two pointers technique. Initialize two pointers, one at the start and one at the end of the array. Compare the sum of the values at these positions with the target sum. If the sum is equal to the target sum, increment a counter for the pair found. Move the pointer that points to the smaller value towards the other pointer. Repeat this process until the pointers meet.

Time complexity: O(n log n) due to sorting
Space complexity: O(1) as we are not using any extra space

Here is an example of how this approach works:
```
  [1, 2, 3, 4, 5] (original array)
  ^             ^
  |             |
  start         end
  ________________________
  | 1   | 2   | 3   | 4   | 5   |
  |-----|-----|-----|-----|-----|
  0      1      2      3      4      5
```
The pointers start at the beginning and end of the array, respectively. The sum of the values at these positions is 1 + 5 = 6, which is greater than the target sum. So, we move the pointer that points to the smaller value (1) towards the other pointer (5). Repeat this process until the pointers meet.

## Optimized Solutions

### Java
```java
public int findPairs(int[] arr, int targetSum) {
    Arrays.sort(arr);
    int count = 0;
    int start = 0;
    int end = arr.length - 1;

    while (start < end) {
        if (arr[start] + arr[end] == targetSum) {
            count++;
            start++;
            end--;
        } else if (arr[start] + arr[end] < targetSum) {
            start++;
        } else {
            end--;
        }
    }

    return count;
}
```

### Python
```python
def find_pairs(arr, target_sum):
    arr.sort()
    count = 0
    start = 0
    end = len(arr) - 1

    while start < end:
        if arr[start] + arr[end] == target_sum:
            count += 1
            start += 1
            end -= 1
        elif arr[start] + arr[end] < target_sum:
            start += 1
        else:
            end -= 1

    return count
```

### C++
```cpp
int findPairs(int* arr, int n, int targetSum) {
    sort(arr, arr+n);
    int count = 0;
    int start = 0;
    int end = n-1;

    while (start < end) {
        if (arr[start] + arr[end] == targetSum) {
            count++;
            start++;
            end--;
        } else if (arr[start] + arr[end] < targetSum) {
            start++;
        } else {
            end--;
        }
    }

    return count;
}
```

### JavaScript
```javascript
function findPairs(arr, targetSum) {
  arr.sort((a, b) => a - b);
  let count = 0;
  let start = 0;
  let end = arr.length - 1;

  while (start < end) {
    if (arr[start] + arr[end] === targetSum) {
      count++;
      start++;
      end--;
    } else if (arr[start] + arr[end] < targetSum) {
      start++;
    } else {
      end--;
    }
  }

  return count;
}
```