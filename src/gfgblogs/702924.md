---
id: "702924"
title: "Make Co-prime Array"
slug: "make-coprime-array3058"
difficulty: "Basic"
companyTags: []
tags: ["Arrays", "Data Structures"]
---

Here is a detailed markdown blog post for the "Make Co-prime Array" problem:

# Make Co-prime Array
## Summary
Given an array `nums` of integers, return a new array `coPrimes` where each element is either 0 or 1 indicating whether the corresponding element in `nums` is co-prime with all previously seen elements. A number `x` is said to be co-prime with another number `y` if their greatest common divisor (GCD) is 1.

## Detailed Explanation
To solve this problem, we can iterate through the array and maintain a set of prime numbers seen so far. For each element in the array, check if it's co-prime with all previously seen elements by calculating the GCD using the Euclidean algorithm. If the GCD is 1, add the current element to the `coPrimes` array.

Here's a step-by-step breakdown of the solution:
```markdown
coPrimes = []
seenPrimes = set()

for num in nums:
    isCoPrime = True
    for prime in seenPrimes:
        if gcd(num, prime) != 1:
            isCoPrime = False
            break
    if isCoPrime:
        coPrimes.append(1)
    else:
        coPrimes.append(0)

    if num > 1:  # check if the number is prime
        for i in range(2, int(num ** 0.5) + 1):
            if num % i == 0:
                seenPrimes.add(i)
                break
```

Time complexity: O(n * sqrt(m)), where `n` is the length of the array and `m` is the maximum number in the array.

Space complexity: O(m), for storing the set of prime numbers.

## Optimized Solutions

### Java
```java
public int[] makeCoprimeArray(int[] nums) {
    List<Integer> coPrimes = new ArrayList<>();
    Set<Integer> seenPrimes = new HashSet<>();

    for (int num : nums) {
        boolean isCoPrime = true;
        for (int prime : seenPrimes) {
            if (gcd(num, prime) != 1) {
                isCoPrime = false;
                break;
            }
        }
        if (isCoPrime) {
            coPrimes.add(1);
        } else {
            coPrimes.add(0);
        }

        if (num > 1) { // check if the number is prime
            for (int i = 2; i <= Math.sqrt(num); i++) {
                if (num % i == 0) {
                    seenPrimes.add(i);
                    break;
                }
            }
        }
    }

    int[] result = new int[coPrimes.size()];
    for (int i = 0; i < coPrimes.size(); i++) {
        result[i] = coPrimes.get(i);
    }
    return result;
}

private int gcd(int a, int b) {
    if (b == 0) {
        return a;
    } else {
        return gcd(b, a % b);
    }
}
```

### Python
```python
def make_coprime_array(nums):
    co_primes = []
    seen_primes = set()

    for num in nums:
        is_co_prime = True
        for prime in seen_primes:
            if gcd(num, prime) != 1:
                is_co_prime = False
                break
        if is_co_prime:
            co_primes.append(1)
        else:
            co_primes.append(0)

        if num > 1:  # check if the number is prime
            for i in range(2, int(num ** 0.5) + 1):
                if num % i == 0:
                    seen_primes.add(i)
                    break

    return co_primes

def gcd(a, b):
    if b == 0:
        return a
    else:
        return gcd(b, a % b)
```

### C++
```cpp
#include <vector>
#include <set>

std::vector<int> makeCoprimeArray(const std::vector<int>& nums) {
    std::vector<int> coPrimes;
    std::set<int> seenPrimes;

    for (int num : nums) {
        bool isCoPrime = true;
        for (int prime : seenPrimes) {
            if (gcd(num, prime) != 1) {
                isCoPrime = false;
                break;
            }
        }
        if (isCoPrime) {
            coPrimes.push_back(1);
        } else {
            coPrimes.push_back(0);
        }

        if (num > 1) { // check if the number is prime
            for (int i = 2; i <= sqrt(num); i++) {
                if (num % i == 0) {
                    seenPrimes.insert(i);
                    break;
                }
            }
        }
    }

    return coPrimes;
}

int gcd(int a, int b) {
    if (b == 0) {
        return a;
    } else {
        return gcd(b, a % b);
    }
}
```

### JavaScript
```javascript
function makeCoprimeArray(nums) {
    let coPrimes = [];
    let seenPrimes = new Set();

    for (let num of nums) {
        let isCoPrime = true;
        for (let prime of Array.from(seenPrimes.values())) {
            if (gcd(num, prime) !== 1) {
                isCoPrime = false;
                break;
            }
        }
        if (isCoPrime) {
            coPrimes.push(1);
        } else {
            coPrimes.push(0);
        }

        if (num > 1) { // check if the number is prime
            for (let i = 2; i <= Math.sqrt(num); i++) {
                if (num % i === 0) {
                    seenPrimes.add(i);
                    break;
                }
            }
        }
    }

    return coPrimes;

    function gcd(a, b) {
        if (b === 0) {
            return a;
        } else {
            return gcd(b, a % b);
        }
    }
}
```

Note: The above solutions assume that the input array `nums` does not contain any duplicate elements. If duplicates are allowed, the solution needs to be modified accordingly.