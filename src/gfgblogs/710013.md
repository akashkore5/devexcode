---
id: "710013"
title: "Maximum difference between pair in a matrix"
slug: "maximum-difference-between-pair-in-a-matrix"
difficulty: "Hard"
companyTags: []
tags: []
---

**Maximum difference between pair in a matrix**
======================================================

### Summary
Given an m x n matrix, find the maximum difference between the sum of two elements, where one element is from each row. The problem requires us to maximize the difference by selecting the smallest and largest elements from different rows.

## Detailed Explanation
To solve this problem, we need to iterate through each row in the matrix and keep track of the minimum and maximum values encountered so far. We will also maintain two variables to store the minimum and maximum differences seen till now. The maximum difference is updated whenever a larger difference is found between the current minimum and maximum values.

Here's a step-by-step breakdown of the solution:

1. Initialize `min_val` and `max_val` to represent the smallest and largest elements in the first row, respectively.
2. Iterate through each row in the matrix (m times):
	* Update `min_val` if the current element is smaller than `min_val`.
	* Update `max_val` if the current element is larger than `max_val`.
3. Calculate the maximum difference (`diff`) between the sum of `min_val` and the sum of `max_val`. This represents the maximum difference that can be achieved by selecting one element from each row.
4. Return the calculated `diff`.

Time Complexity: O(m \* n), where m is the number of rows and n is the number of columns in the matrix.

Space Complexity: O(1), as we only use a constant amount of space to store the minimum and maximum values.

## Optimized Solutions

### Java
```java
public int maxDifference(int[][] matrix) {
    int m = matrix.length;
    int n = matrix[0].length;
    int min_val = Integer.MAX_VALUE, max_val = Integer.MIN_VALUE;
    int diff = 0;

    for (int i = 0; i < m; i++) {
        for (int j = 0; j < n; j++) {
            if (matrix[i][j] < min_val) {
                min_val = matrix[i][j];
            }
            if (matrix[i][j] > max_val) {
                max_val = matrix[i][j];
            }
        }
    }

    diff = max_val - min_val;

    return diff;
}
```

### Python
```python
def max_difference(matrix):
    m, n = len(matrix), len(matrix[0])
    min_val, max_val = float('inf'), float('-inf')
    diff = 0

    for row in matrix:
        for num in row:
            if num < min_val:
                min_val = num
            elif num > max_val:
                max_val = num

    diff = max_val - min_val

    return diff
```

### C++
```cpp
int maxDifference(int** matrix, int m, int n) {
    int min_val = INT_MAX, max_val = INT_MIN;
    int diff = 0;

    for (int i = 0; i < m; i++) {
        for (int j = 0; j < n; j++) {
            if (matrix[i][j] < min_val) {
                min_val = matrix[i][j];
            }
            if (matrix[i][j] > max_val) {
                max_val = matrix[i][j];
            }
        }
    }

    diff = max_val - min_val;

    return diff;
}
```

### JavaScript
```javascript
function maxDifference(matrix) {
    let m = matrix.length, n = matrix[0].length;
    let minVal = Infinity, maxVal = -Infinity;
    let diff = 0;

    for (let i = 0; i < m; i++) {
        for (let j = 0; j < n; j++) {
            if (matrix[i][j] < minVal) {
                minVal = matrix[i][j];
            }
            if (matrix[i][j] > maxVal) {
                maxVal = matrix[i][j];
            }
        }
    }

    diff = maxVal - minVal;

    return diff;
}
```

In each of the optimized solutions, we iterate through the matrix once to find the minimum and maximum values. We then calculate the maximum difference between these two values. The time complexity remains O(m \* n), but the space complexity is reduced to O(1) as we only use a constant amount of space to store the minimum and maximum values.