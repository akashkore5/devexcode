---
id: "713147"
title: "Count the Substring"
slug: "count-the-substring--170645"
difficulty: "Hard"
companyTags: []
tags: ["Strings", "Dynamic Programming", "Data Structures", "Algorithms"]
---

**Count the Substring**
====================================================

### Slug: count-the-substring--170645
### Difficulty: Hard
### Id: 713147
### Topic Tags: Strings, Dynamic Programming, Data Structures, Algorithms

## Summary
The problem is to count the number of occurrences of a given substring within a larger string. This involves using dynamic programming techniques to efficiently solve the problem.

## Detailed Explanation
To solve this problem, we can use dynamic programming to keep track of the number of occurrences of the substring at each position in the string. We initialize a 2D array `dp` where `dp[i][j]` represents the number of occurrences of the substring ending at index `i` and having length `j`.

We then iterate through the string, updating the `dp` array as we go. For each character, we check if it matches the first character of the substring. If it does, we increment the count of occurrences for that substring.

Here's a step-by-step breakdown:

1. Initialize `dp` with zeros.
2. Iterate through the string:
    * For each character, check if it matches the first character of the substring.
    * If it does, update the count of occurrences for that substring by adding 1 to `dp[i][j]`.
3. Return the total count of occurrences.

Time complexity: O(n \* m), where n is the length of the string and m is the length of the substring.

Space complexity: O(n \* m), since we need to store the dynamic programming table.

## Optimized Solutions

### Java
```java
public int countSubstring(String str, String sub) {
    int n = str.length();
    int m = sub.length();
    int[][] dp = new int[n][m];

    for (int i = 0; i < n; i++) {
        for (int j = 0; j < m; j++) {
            if (str.charAt(i) == sub.charAt(j)) {
                if (j == 0) {
                    dp[i][j] = 1;
                } else {
                    dp[i][j] = dp[i - 1][j - 1] + 1;
                }
            } else {
                dp[i][j] = 0;
            }
        }
    }

    int count = 0;
    for (int i = 0; i < n; i++) {
        if (dp[i][m - 1] > 0) {
            count++;
        }
    }

    return count;
}
```

### Python
```python
def count_substring(str, sub):
    n = len(str)
    m = len(sub)
    dp = [[0] * (m + 1) for _ in range(n + 1)]

    for i in range(n + 1):
        for j in range(m + 1):
            if i < n and str[i] == sub[j]:
                if j == 0:
                    dp[i][j] = 1
                else:
                    dp[i][j] = dp[i - 1][j - 1] + 1
            else:
                dp[i][j] = 0

    count = 0
    for i in range(n + 1):
        if dp[i][m] > 0:
            count += 1

    return count
```

### C++
```cpp
int countSubstring(const string& str, const string& sub) {
    int n = str.length();
    int m = sub.length();
    vector<vector<int>> dp(n + 1, vector<int>(m + 1));

    for (int i = 0; i <= n; i++) {
        for (int j = 0; j <= m; j++) {
            if (i < n && str[i] == sub[j]) {
                if (j == 0) {
                    dp[i][j] = 1;
                } else {
                    dp[i][j] = dp[i - 1][j - 1] + 1;
                }
            } else {
                dp[i][j] = 0;
            }
        }
    }

    int count = 0;
    for (int i = 0; i <= n; i++) {
        if (dp[i][m] > 0) {
            count++;
        }
    }

    return count;
}
```

### JavaScript
```javascript
function countSubstring(str, sub) {
  let n = str.length;
  let m = sub.length;
  let dp = new Array(n + 1).fill(0).map(() => new Array(m + 1).fill(0));

  for (let i = 0; i <= n; i++) {
    for (let j = 0; j <= m; j++) {
      if (i < n && str[i] === sub[j]) {
        if (j === 0) {
          dp[i][j] = 1;
        } else {
          dp[i][j] = dp[i - 1][j - 1] + 1;
        }
      } else {
        dp[i][j] = 0;
      }
    }
  }

  let count = 0;
  for (let i = 0; i <= n; i++) {
    if (dp[i][m] > 0) {
      count++;
    }
  }

  return count;
}
```

Note: The above code assumes that the input strings do not contain any spaces or special characters. If this is not the case, you may need to modify the code accordingly.