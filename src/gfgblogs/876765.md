---
id: "876765"
title: "Find all distinct triplets with given sum"
slug: "find-all-distinct-triplets-with-given-sum"
difficulty: "Easy"
companyTags: []
tags: ["Sorting", "two-pointer-algorithm", "Arrays", "Hash"]
---

Here is a detailed Markdown blog post for the GeeksforGeeks problem:

Find all distinct triplets with given sum
=====================================

## Summary
Given an array of integers, find all distinct triplets that add up to a given sum. This problem involves sorting and using two pointers to efficiently solve this problem.

## Detailed Explanation
To solve this problem, we can sort the array first. Then, for each triplet, we fix one element and use two pointers to find the other two elements that add up to the remaining sum. The key concept here is the two-pointer algorithm, which helps us avoid duplicate triplets by ensuring that the next pair of numbers found will be less than or equal to the current one.

Here's a step-by-step breakdown of the solution:

1. Sort the array in ascending order.
2. Fix an element at index `i`.
3. Initialize two pointers, `left` and `right`, to the first element (`arr[0]`) and the last element (`arr[n-1]`) respectively.
4. Calculate the sum of the fixed element and the elements at `left` and `right`. If this sum is equal to the target sum, add the triplet (arr[i], arr[left], arr[right]) to our result list.
5. Move the pointers based on the calculated sum:
	* If the sum is less than the target sum, move the `right` pointer towards the beginning of the array to increase the sum.
	* If the sum is greater than the target sum, move the `left` pointer towards the end of the array to decrease the sum.
6. Repeat steps 2-5 until `i` reaches the end of the array.

Time complexity: O(n^2) where n is the length of the input array. The two-pointer algorithm runs in linear time for each fixed element, and we have to fix all elements in the array.
Space complexity: O(1). We only use a constant amount of space to store our result list and the pointers.

## Optimized Solutions

### Java
```java
public class FindDistinctTriplets {
    public static List<List<Integer>> findTriplets(int[] arr, int targetSum) {
        Arrays.sort(arr);
        List<List<Integer>> triplets = new ArrayList<>();
        for (int i = 0; i < arr.length - 2; i++) {
            if (i > 0 && arr[i] == arr[i-1]) continue;
            int left = i + 1, right = arr.length - 1;
            while (left < right) {
                int sum = arr[i] + arr[left] + arr[right];
                if (sum == targetSum) {
                    triplets.add(Arrays.asList(arr[i], arr[left], arr[right]));
                    left++;
                    right--;
                    while (left < right && arr[left] == arr[left-1]) left++;
                    while (left < right && arr[right] == arr[right+1]) right--;
                } else if (sum < targetSum) {
                    left++;
                } else {
                    right--;
                }
            }
        }
        return triplets;
    }
}
```

### Python
```python
def find_triplets(arr, target_sum):
    arr.sort()
    triplets = []
    for i in range(len(arr) - 2):
        if i > 0 and arr[i] == arr[i-1]:
            continue
        left = i + 1
        right = len(arr) - 1
        while left < right:
            sum_val = arr[i] + arr[left] + arr[right]
            if sum_val == target_sum:
                triplets.append([arr[i], arr[left], arr[right]])
                left += 1
                right -= 1
                while left < right and arr[left] == arr[left-1]:
                    left += 1
                while left < right and arr[right] == arr[right+1]:
                    right -= 1
            elif sum_val < target_sum:
                left += 1
            else:
                right -= 1
    return triplets
```

### C++
```cpp
#include <iostream>
#include <vector>
#include <algorithm>

std::vector<std::vector<int>> findTriplets(int* arr, int n, int targetSum) {
    std::sort(arr, arr+n);
    std::vector<std::vector<int>> triplets;
    for (int i = 0; i < n-2; i++) {
        if (i > 0 && arr[i] == arr[i-1]) continue;
        int left = i + 1, right = n - 1;
        while (left < right) {
            int sum = arr[i] + arr[left] + arr[right];
            if (sum == targetSum) {
                triplets.push_back({arr[i], arr[left], arr[right]});
                left++;
                right--;
                while (left < right && arr[left] == arr[left-1]) left++;
                while (left < right && arr[right] == arr[right+1]) right--;
            } else if (sum < targetSum) {
                left++;
            } else {
                right--;
            }
        }
    }
    return triplets;
}
```

### JavaScript
```javascript
function findTriplets(arr, targetSum) {
    arr.sort((a, b) => a - b);
    let triplets = [];
    for (let i = 0; i < arr.length - 2; i++) {
        if (i > 0 && arr[i] === arr[i-1]) continue;
        let left = i + 1, right = arr.length - 1;
        while (left < right) {
            let sum = arr[i] + arr[left] + arr[right];
            if (sum === targetSum) {
                triplets.push([arr[i], arr[left], arr[right]]);
                left++;
                right--;
                while (left < right && arr[left] === arr[left-1]) left++;
                while (left < right && arr[right] === arr[right+1]) right--;
            } else if (sum < targetSum) {
                left++;
            } else {
                right--;
            }
        }
    }
    return triplets;
}
```

Note that these optimized solutions assume that the input array is non-empty and contains only unique elements.