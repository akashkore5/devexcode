---
id: "710078"
title: "Expression contains redundant bracket or not"
slug: "expression-contains-redundant-bracket-or-not"
difficulty: "Medium"
companyTags: []
tags: ["Stack", "Strings"]
---

**Expression contains redundant bracket or not**
=====================================================

## Summary
Given a string expression, determine whether it contains any redundant brackets or not. A bracket is considered redundant if there is an unmatched opening or closing bracket. This problem involves working with strings and using stack-based approach to solve the problem.

## Detailed Explanation
To solve this problem, we can use a stack data structure. The idea is to iterate through the string expression from left to right. For every opening bracket, push it onto the stack. For every closing bracket, check if the top of the stack contains an opening bracket that matches the current closing bracket. If there's no match or the stack is empty (which means there are unmatched opening brackets), return false.

Here's a step-by-step breakdown of the solution:

1. Initialize an empty stack.
2. Iterate through the string expression from left to right.
3. For every opening bracket, push it onto the stack.
4. For every closing bracket:
	* Check if the top of the stack contains an opening bracket that matches the current closing bracket.
	* If there's no match or the stack is empty (which means there are unmatched opening brackets), return false.
5. After iterating through the entire expression, check if the stack is empty. If it is not empty, there are unmatched opening brackets and the function should return false.

Time complexity: O(n) where n is the length of the input string.
Space complexity: O(n) for storing the stack.

```
  +---+---+---+---+---+
  |   |   |   |   |
  +---+---+---+---+---+
  ^
  Stack
```

## Optimized Solutions

### Java
```java
public boolean hasRedundantBrackets(String expression) {
    Stack<Character> stack = new Stack<>();
    for (char c : expression.toCharArray()) {
        if (c == '(') {
            stack.push(c);
        } else if (c == ')') {
            if (stack.isEmpty() || stack.pop() != '(') {
                return true;
            }
        }
    }
    return stack.isEmpty();
}
```

### Python
```python
def has_redundant_brackets(expression):
    stack = []
    for c in expression:
        if c == '(':
            stack.append(c)
        elif c == ')':
            if not stack or stack.pop() != '(':
                return True
    return not stack
```

### C++
```cpp
bool hasRedundantBrackets(const string& expression) {
    stack<char> s;
    for (char c : expression) {
        if (c == '(') {
            s.push(c);
        } else if (c == ')') {
            if (s.empty() || s.top() != '(') {
                return true;
            }
            s.pop();
        }
    }
    return s.empty();
}
```

### JavaScript
```javascript
function hasRedundantBrackets(expression) {
    const stack = [];
    for (let c of expression) {
        if (c === '(') {
            stack.push(c);
        } else if (c === ')') {
            if (!stack.length || stack.pop() !== '(') {
                return true;
            }
        }
    }
    return !stack.length;
}
```

Note that these optimized solutions are implemented in the respective programming languages and do not include any additional commentary or explanation.