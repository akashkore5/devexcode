---
id: "879263"
title: "Count the number of possible triangles"
slug: "count-possible-triangles-1587115620--094125"
difficulty: "Medium"
companyTags: ["Amazon", "Microsoft"]
tags: ["Arrays", "Sorting", "Data Structures", "Algorithms"]
---

**Count the number of possible triangles**
==================================================

## Summary
Given an array of integers, count the total number of possible triangles that can be formed using these integers as side lengths. The problem is to find out how many unique triangle combinations are possible from the given set.

## Detailed Explanation
The approach for solving this problem is quite straightforward. We need to calculate the number of ways we can arrange three sides in a triangle and multiply it by the total number of possible triangles that can be formed using these integers as side lengths.

Here's how you can do it:

1.  Iterate through the array, considering each triplet (three elements) as potential sides of a triangle.
2.  For each triplet, check if they form a valid triangle (i.e., the sum of two sides is greater than the third side). If not, skip to the next iteration.
3.  If it's a valid triangle, increment a counter for the total number of possible triangles.

**Time Complexity:** The time complexity is O(n^2) where n is the size of the input array. This is because we are iterating through each element in the array and considering every triplet as potential sides of a triangle.

**Space Complexity:** The space complexity is O(1), which means that it doesn't depend on the size of the input array. This is because we are only using a constant amount of space to store our counter.

## Optimized Solutions

### Java
```java
import java.util.Arrays;

public class Main {
    public static int countPossibleTriangles(int[] arr) {
        Arrays.sort(arr);
        int count = 0;
        for (int i = 0; i < arr.length - 2; i++) {
            int left = i + 1;
            int right = arr.length - 1;
            while (left < right) {
                if (arr[i] + arr[left] > arr[right]) {
                    count += right - left;
                    left++;
                } else {
                    right--;
                }
            }
        }
        return count;
    }

    public static void main(String[] args) {
        int[] arr = {1, 2, 3, 4, 5};
        System.out.println(countPossibleTriangles(arr));
    }
}
```

### Python
```python
def count_possible_triangles(arr):
    arr.sort()
    count = 0
    for i in range(len(arr) - 2):
        left = i + 1
        right = len(arr) - 1
        while left < right:
            if arr[i] + arr[left] > arr[right]:
                count += right - left
                left += 1
            else:
                right -= 1
    return count

print(count_possible_triangles([1, 2, 3, 4, 5]))
```

### C++
```cpp
#include <iostream>
#include <algorithm>

int countPossibleTriangles(int arr[], int n) {
    std::sort(arr, arr + n);
    int count = 0;
    for (int i = 0; i < n - 2; i++) {
        int left = i + 1;
        int right = n - 1;
        while (left < right) {
            if (arr[i] + arr[left] > arr[right]) {
                count += right - left;
                left++;
            } else {
                right--;
            }
        }
    }
    return count;
}

int main() {
    int arr[] = {1, 2, 3, 4, 5};
    std::cout << countPossibleTriangles(arr, 5) << std::endl;
    return 0;
}
```

### JavaScript
```javascript
function countPossibleTriangles(arr) {
    arr.sort((a, b) => a - b);
    let count = 0;
    for (let i = 0; i < arr.length - 2; i++) {
        let left = i + 1;
        let right = arr.length - 1;
        while (left < right) {
            if (arr[i] + arr[left] > arr[right]) {
                count += right - left;
                left++;
            } else {
                right--;
            }
        }
    }
    return count;

console.log(countPossibleTriangles([1, 2, 3, 4, 5]));
```