---
id: "710059"
title: "Find pairs with given sum in doubly linked list"
slug: "find-pairs-with-given-sum-in-doubly-linked-list"
difficulty: "Easy"
companyTags: []
tags: ["doubly-linked-list", "two-pointer-algorithm", "Data Structures", "Algorithms"]
---

# Find pairs with given sum in doubly linked list

## Summary
Find all pairs of nodes in a doubly linked list that have a sum equal to a given target sum. This problem is about traversing and manipulating a doubly linked list using a two-pointer algorithm.

## Detailed Explanation
To solve this problem, we can use a two-pointer approach where one pointer moves ahead and the other stays behind. The idea is to maintain a window of nodes in the list such that the sum of all nodes in the window equals the target sum. We start by initializing the two pointers at the beginning of the list.

Here's the step-by-step breakdown:

1. Initialize two pointers, `slow` and `fast`, to point to the head of the list.
2. Calculate the sum of the first node (`head`) and store it in a variable `total_sum`.
3. Move the `fast` pointer one step ahead until the total sum exceeds the target sum.
4. Move the `slow` pointer one step ahead when the total sum equals the target sum.
5. If the total sum is equal to the target sum, it means we have found a pair of nodes with a sum equal to the target sum. Print or store this pair and update the `total_sum` variable by subtracting the value at the node pointed to by the `slow` pointer.
6. Repeat steps 3-5 until the `fast` pointer reaches the end of the list.

Time complexity: O(n), where n is the number of nodes in the doubly linked list. We only traverse the list once, and each operation takes constant time.

Space complexity: O(1), as we only use a few extra variables to store the pointers and sum.

## Optimized Solutions

### Java
```java
public class Node {
    int val;
    Node prev, next;

    public Node(int val) {
        this.val = val;
    }
}

public void findPairs(Node head, int targetSum) {
    Node slow = head, fast = head;
    int totalSum = 0;

    while (fast != null && fast.next != null) {
        if (totalSum + fast.next.val > targetSum) {
            fast = fast.next;
        } else {
            totalSum += fast.val;
            if (totalSum == targetSum) {
                System.out.println("Pair found: " + slow.val + ", " + fast.next.val);
                totalSum -= slow.val;
                slow = slow.next;
            }
        }
    }
}
```

### Python
```python
class Node:
    def __init__(self, val):
        self.val = val

def find_pairs(head, target_sum):
    slow = head
    fast = head
    total_sum = 0

    while fast and fast.next:
        if total_sum + fast.next.val > target_sum:
            fast = fast.next
        else:
            total_sum += fast.val
            if total_sum == target_sum:
                print("Pair found:", slow.val, ",", fast.next.val)
                total_sum -= slow.val
                slow = slow.next
    return
```

### C++
```cpp
struct Node {
    int val;
    Node* prev;
    Node* next;

    Node(int val) : val(val), prev(nullptr), next(nullptr) {}
};

void findPairs(Node* head, int targetSum) {
    Node* slow = head;
    Node* fast = head;
    int totalSum = 0;

    while (fast && fast->next) {
        if (totalSum + fast->next->val > targetSum) {
            fast = fast->next;
        } else {
            totalSum += fast->val;
            if (totalSum == targetSum) {
                std::cout << "Pair found: " << slow->val << ", " << fast->next->val << std::endl;
                totalSum -= slow->val;
                slow = slow->next;
            }
        }
    }
}
```

### JavaScript
```javascript
class Node {
    constructor(val) {
        this.val = val;
    }
}

function findPairs(head, targetSum) {
    let slow = head;
    let fast = head;
    let totalSum = 0;

    while (fast && fast.next) {
        if (totalSum + fast.next.val > targetSum) {
            fast = fast.next;
        } else {
            totalSum += fast.val;
            if (totalSum == targetSum) {
                console.log(`Pair found: ${slow.val}, ${fast.next.val}`);
                totalSum -= slow.val;
                slow = slow.next;
            }
        }
    }
}
```

Note that the optimized solutions are provided in different programming languages, but the algorithm remains the same.