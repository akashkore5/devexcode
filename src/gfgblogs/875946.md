---
id: "875946"
title: "All distinct pairs with given sum"
slug: "all-distinct-pairs-with-given-sum"
difficulty: "Easy"
companyTags: []
tags: ["Arrays", "Hash"]
---

Here is the detailed Markdown blog post for the GeeksforGeeks problem "All distinct pairs with given sum":

# All distinct pairs with given sum
## Summary
Given an array `nums` and a target sum `target`, find all distinct pairs `(i, j)` such that `nums[i] + nums[j] = target`. This problem involves arrays and hash, requiring a combination of data structures and algorithmic thinking to solve.

## Detailed Explanation
To approach this problem, we can use a hash table (or map) to store the elements in the array as keys and their indices as values. Then, for each element in the array, we check if the difference between the target sum and the current element is present in the hash table. If it is, we add the pair `(i, j)` to our result set.

Here's a step-by-step breakdown of the solution:

1. Initialize an empty hash table `hash` with default values (e.g., 0).
2. Iterate through the array `nums`. For each element `num`, do the following:
	* Calculate the difference between the target sum `target` and the current element `num`: `diff = target - num`.
	* Check if `diff` is present in the hash table `hash`. If it is, add all pairs `(i, j)` such that `nums[i] + nums[j] = diff` to our result set.
3. Return the list of distinct pairs.

Time complexity: O(n), where n is the length of the array `nums`.
Space complexity: O(n), since we need to store the hash table and the result set.

Here's an ASCII art diagram illustrating the algorithm:
```
  +---------------+
  |    Hash Table   |
  +---------------+
           |
           |
           v
  +---------------+
  |  Iterate through  |
  |  array nums       |
  +---------------+
           |
           |
           v
  +---------------+
  |  Calculate diff  |
  |  and check hash  |
  +---------------+
```

## Optimized Solutions

### Java
```java
import java.util.*;

public class Solution {
    public List<List<Integer>> allPairs(int[] nums, int target) {
        Map<Integer, Integer> map = new HashMap<>();
        List<List<Integer>> result = new ArrayList<>();

        for (int i = 0; i < nums.length; i++) {
            int diff = target - nums[i];
            if (map.containsKey(diff)) {
                for (int j : map.get(diff)) {
                    result.add(Arrays.asList(i, j));
                }
            }
            map.put(nums[i], i);
        }

        return result;
    }
}
```

### Python
```python
def all_pairs(nums, target):
    hash = {}
    result = []

    for i in range(len(nums)):
        diff = target - nums[i]
        if diff in hash:
            for j in hash[diff]:
                result.append([i, j])
        hash[nums[i]] = i

    return result
```

### C++
```cpp
#include <iostream>
#include <vector>
#include <unordered_map>

std::vector<std::vector<int>> allPairs(std::vector<int>& nums, int target) {
    std::unordered_map<int, int> hash;
    std::vector<std::vector<int>> result;

    for (int i = 0; i < nums.size(); i++) {
        int diff = target - nums[i];
        if (hash.find(diff) != hash.end()) {
            for (auto j : hash[diff]) {
                result.push_back({i, j});
            }
        }
        hash[nums[i]] = i;
    }

    return result;
}
```

### JavaScript
```javascript
function allPairs(nums, target) {
    const hash = {};
    let result = [];

    for (let i = 0; i < nums.length; i++) {
        const diff = target - nums[i];
        if (hash[diff]) {
            for (const j of hash[diff]) {
                result.push([i, j]);
            }
        }
        hash[nums[i]] = i;
    }

    return result;
}
```

I hope this helps! Let me know if you have any questions or need further clarification.